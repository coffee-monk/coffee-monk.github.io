var Addon=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r=l(n(1)),o=l(n(2)),i=l(n(12)),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=l(n(15)),u=l(n(16)),c=n(17),f=l(n(20));l(n(21));function l(t){return t&&t.__esModule?t:{default:t}}window.iFrameResizer={heightCalculationMethod:function(){var t=document.body,e=document.documentElement;return Math.max.apply(null,[t.scrollHeight,t.offsetHeight,e.offsetHeight])}};var d=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.options=t,n.api=new f.default(n),n.channel=a.default.build({window:t.window||window.parent,origin:"*",scope:t.id||location.origin,postMessageObserver:function(t,e){n.emit("postMessage",t,e)},gotMessageObserver:function(t,e){n.emit("gotMessage",t,e)}});for(var r=["init","update","reload","_event"],o=function(){var t=r[i];n.channel.bind(t,function(e,r){var o=t,i=r;return"_event"===t&&(o=r.eventName,i=r.eventData),n.emit(o,i),"success"})},i=0;i<r.length;i++)o();return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),s(e,[{key:"request",value:function(t){var e=this;return new c.Promise(function(n,s){if(!(0,i.default)(t))throw new Error("Params must be an object");var a,u,c,f;if(a=t.method,u=t.endpoint,c=t.query,f=t.body,!(a&&u&&(0,o.default)(a)&&(0,o.default)(u)))throw new Error("Invalid method or endpoint");if(!(0,r.default)(c)&&!(0,i.default)(c))throw new Error("Query must be an object");if(!(0,r.default)(f)&&!(0,i.default)(f))throw new Error("Body must be an object");e.channel.call({method:"request",params:t,success:function(t){n(t)},error:function(t){s(t)}})})}},{key:"saveData",value:function(t){var e=this;return new c.Promise(function(n,r){if(!(0,i.default)(t))throw new Error("Data must be an object");e.channel.call({method:"saveData",params:t,success:function(){n()},error:function(t){r(t)}})})}},{key:"addTransaction",value:function(t){var e=this;return new c.Promise(function(n,o){if(!(0,r.default)(t)&&!(0,i.default)(t))throw new Error("Attrs must be an object");e.channel.call({method:"addTransaction",params:t,success:function(t){n(t)},error:function(t){o(t)}})})}},{key:"editTransaction",value:function(t){var e=this;return new c.Promise(function(n,r){if(!t||!(0,o.default)(t))throw new Error("Invalid id");e.channel.call({method:"editTransaction",params:t,success:function(t){n(t)},error:function(t){r(t)}})})}},{key:"addInstitution",value:function(t){var e=this;return new c.Promise(function(n,o){if(!(0,r.default)(t)&&!(0,i.default)(t))throw new Error("Attrs must be an object");e.channel.call({method:"addInstitution",params:t,success:function(t){n(t)},error:function(t){o(t)}})})}},{key:"downloadDocument",value:function(t){var e=this;return new c.Promise(function(n,r){if(!t||!(0,o.default)(t))throw new Error("Invalid id");e.channel.call({method:"downloadDocument",params:t,success:function(){n()},error:function(t){r(t)}})})}},{key:"upgradePremium",value:function(){var t=this;return new c.Promise(function(e,n){t.channel.call({method:"upgradePremium",success:function(){e()},error:function(t){n(t)}})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),e}();t.exports=d},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(3),o=n(10),i=n(11),s="[object String]";t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&r(t)==s}},function(t,e,n){var r=n(4),o=n(8),i=n(9),s="[object Null]",a="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:u&&u in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(5).Symbol;t.exports=r},function(t,e,n){var r=n(6),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(7))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=s.call(t);return r&&(e?t[a]=n:delete t[a]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(3),o=n(13),i=n(11),s="[object Object]",a=Function.prototype,u=Object.prototype,c=a.toString,f=u.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!i(t)||r(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=f.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},function(t,e,n){var r=n(14)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=function(){"use strict";var t=Math.floor(1000001*Math.random()),e={};function n(t){return Array.isArray?Array.isArray(t):-1!=t.constructor.toString().indexOf("Array")}var r={},o=function(t){try{var n=JSON.parse(t.data);if("object"!=typeof n||null===n)throw"malformed"}catch(t){return}var o,i,s,a=t.source,u=t.origin;if("string"==typeof n.method){var c=n.method.split("::");2==c.length?(o=c[0],s=c[1]):s=n.method}if(void 0!==n.id&&(i=n.id),"string"==typeof s){var f=!1;if(e[u]&&e[u][o])for(var l=0;l<e[u][o].length;l++)if(e[u][o][l].win===a){e[u][o][l].handler(u,s,n),f=!0;break}if(!f&&e["*"]&&e["*"][o])for(l=0;l<e["*"][o].length;l++)if(e["*"][o][l].win===a){e["*"][o][l].handler(u,s,n);break}}else void 0!==i&&r[i]&&r[i](u,s,n)};return window.addEventListener?window.addEventListener("message",o,!1):window.attachEvent&&window.attachEvent("onmessage",o),{build:function(o){var i=function(t){if(o.debugOutput&&window.console&&window.console.log){try{"string"!=typeof t&&(t=JSON.stringify(t))}catch(t){}console.log("["+u+"] "+t)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if("object"!=typeof o)throw"Channel build invoked without a proper object argument";if(!o.window||!o.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===o.window)throw"target window is same as present window -- not allowed";var s,a=!1;"string"==typeof o.origin&&("*"===o.origin?a=!0:null!==(s=o.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))&&(o.origin=s[0].toLowerCase(),a=!0));if(!a)throw"Channel.build() called with an invalid origin";if(void 0!==o.scope){if("string"!=typeof o.scope)throw"scope, when specified, must be a string";if(o.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var u=function(){for(var t="",e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}(),c={},f={},l={},d=!1,h=[],p=function(t,e,s){if("function"==typeof o.gotMessageObserver)try{o.gotMessageObserver(t,s)}catch(t){i("gotMessageObserver() raised an exception: "+t.toString())}if(s.id&&e){if(c[e]){var a=function(t,e,n){var r=!1,o=!1;return{origin:e,invoke:function(e,r){if(!l[t])throw"attempting to invoke a callback of a nonexistent transaction: "+t;for(var o=!1,i=0;i<n.length;i++)if(e===n[i]){o=!0;break}if(!o)throw"request supports no such callback '"+e+"'";y({id:t,callback:e,params:r})},error:function(e,n){if(o=!0,!l[t])throw"error called for nonexistent message: "+t;delete l[t],y({id:t,error:e,message:n})},complete:function(e){if(o=!0,!l[t])throw"complete called for nonexistent message: "+t;delete l[t],y({id:t,result:e})},delayReturn:function(t){return"boolean"==typeof t&&(r=!0===t),r},completed:function(){return o}}}(s.id,t,s.callbacks?s.callbacks:[]);l[s.id]={};try{if(s.callbacks&&n(s.callbacks)&&s.callbacks.length>0)for(var u=0;u<s.callbacks.length;u++){for(var d=s.callbacks[u],h=s.params,p=d.split("/"),v=0;v<p.length-1;v++){var m=p[v];"object"!=typeof h[m]&&(h[m]={}),h=h[m]}h[p[p.length-1]]=function(){var t=d;return function(e){return a.invoke(t,e)}}()}var g=c[e](a,s.params);a.delayReturn()||a.completed()||a.complete(g)}catch(t){var w="runtime_error",b=null;if("string"==typeof t?b=t:"object"==typeof t&&(t&&n(t)&&2==t.length?(w=t[0],b=t[1]):"string"==typeof t.error&&(w=t.error,t.message?"string"==typeof t.message?b=t.message:t=t.message:b="")),null===b)try{void 0===(b=JSON.stringify(t))&&(b=t.toString())}catch(e){b=t.toString()}a.error(w,b)}}}else s.id&&s.callback?f[s.id]&&f[s.id].callbacks&&f[s.id].callbacks[s.callback]?f[s.id].callbacks[s.callback](s.params):i("ignoring invalid callback, id:"+s.id+" ("+s.callback+")"):s.id?f[s.id]?(s.error?(0,f[s.id].error)(s.error,s.message):void 0!==s.result?(0,f[s.id].success)(s.result):(0,f[s.id].success)(),delete f[s.id],delete r[s.id]):i("ignoring invalid response: "+s.id):e&&c[e]&&c[e]({origin:t},s.params)};!function(t,n,r,o){function i(e){for(var n=0;n<e.length;n++)if(e[n].win===t)return!0;return!1}var s=!1;if("*"===n){for(var a in e)if(e.hasOwnProperty(a)&&"*"!==a&&"object"==typeof e[a][r]&&(s=i(e[a][r])))break}else e["*"]&&e["*"][r]&&(s=i(e["*"][r])),!s&&e[n]&&e[n][r]&&(s=i(e[n][r]));if(s)throw"A channel is already bound to the same window which overlaps with origin '"+n+"' and has scope '"+r+"'";"object"!=typeof e[n]&&(e[n]={}),"object"!=typeof e[n][r]&&(e[n][r]=[]),e[n][r].push({win:t,handler:o})}(o.window,o.origin,"string"==typeof o.scope?o.scope:"",p);var v=function(t){return"string"==typeof o.scope&&o.scope.length&&(t=[o.scope,t].join("::")),t},y=function(t,e){if(!t)throw"postMessage called with null message";if(i((d?"post  ":"queue ")+" message: "+JSON.stringify(t)),e||d){if("function"==typeof o.postMessageObserver)try{o.postMessageObserver(o.origin,t)}catch(t){i("postMessageObserver() raised an exception: "+t.toString())}o.window.postMessage(JSON.stringify(t),o.origin)}else h.push(t)},m={unbind:function(t){if(c[t]){if(!delete c[t])throw"can't delete method: "+t;return!0}return!1},bind:function(t,e){if(!t||"string"!=typeof t)throw"'method' argument to bind must be string";if(!e||"function"!=typeof e)throw"callback missing from bind params";if(c[t])throw"method '"+t+"' is already bound!";return c[t]=e,this},call:function(e){if(!e)throw"missing arguments to call function";if(!e.method||"string"!=typeof e.method)throw"'method' argument to call must be string";if(!e.success||"function"!=typeof e.success)throw"'success' callback missing from call";var n={},o=[],i=[],s=function(t,e){if(i.indexOf(e)>=0)throw"params cannot be a recursive data structure";if(i.push(e),"object"==typeof e)for(var r in e)if(e.hasOwnProperty(r)){var a=t+(t.length?"/":"")+r;"function"==typeof e[r]?(n[a]=e[r],o.push(a),delete e[r]):"object"==typeof e[r]&&null!==e[r]&&s(a,e[r])}};s("",e.params);var a,u,c,l={id:t,method:v(e.method),params:e.params};o.length&&(l.callbacks=o),e.timeout&&(a=t,u=e.timeout,c=v(e.method),window.setTimeout(function(){if(f[a]){var t="timeout ("+u+"ms) exceeded on method '"+c+"'";(0,f[a].error)("timeout_error",t),delete f[a],delete r[a]}},u)),f[t]={callbacks:n,error:e.error,success:e.success},r[t]=p,t++,y(l)},notify:function(t){if(!t)throw"missing arguments to notify function";if(!t.method||"string"!=typeof t.method)throw"'method' argument to notify must be string";y({method:v(t.method),params:t.params})},destroy:function(){!function(t,n,r){for(var o=e[n][r],i=0;i<o.length;i++)o[i].win===t&&o.splice(i,1);0===e[n][r].length&&delete e[n][r]}(o.window,o.origin,"string"==typeof o.scope?o.scope:""),window.removeEventListener?window.removeEventListener("message",p,!1):window.detachEvent&&window.detachEvent("onmessage",p),d=!1,c={},l={},f={},o.origin=null,h=[],i("channel destroyed"),u=""}};return m.bind("__ready",function(t,e){if(i("ready msg received"),d)throw"received ready message while in ready state.  help!";for(u+="ping"===e?"-R":"-L",m.unbind("__ready"),d=!0,i("ready msg accepted."),"ping"===e&&m.notify({method:"__ready",params:"pong"});h.length;)y(h.pop());"function"==typeof o.onReady&&o.onReady(m)}),setTimeout(function(){y({method:v("__ready"),params:"ping"},!0)},0),m}}}();t.exports=r},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function s(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,r||t,i),a=o?o+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,s=new Array(i);r<i;r++)s[r]=n[r].fn;return s},u.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,r,i,s){var a=o?o+t:t;if(!this._events[a])return!1;var u,c,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,i),!0;case 6:return f.fn.call(f.context,e,n,r,i,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var d,h=f.length;for(c=0;c<h;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,n);break;case 4:f[c].fn.call(f[c].context,e,n,r);break;default:if(!u)for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];f[c].fn.apply(f[c].context,u)}}return!0},u.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||a(this,i);else{for(var u=0,c=[],f=s.length;u<f;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&a(this,e)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,t.exports=u},function(t,e,n){(function(e,r){var o;
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.2+97478eb6
 */
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.2+97478eb6
 */
o=function(){"use strict";function t(t){return"function"==typeof t}var o=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,s=void 0,a=void 0,u=function(t,e){v[i]=t,v[i+1]=e,2===(i+=2)&&(a?a(y):_())};var c="undefined"!=typeof window?window:void 0,f=c||{},l=f.MutationObserver||f.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(y,1)}}var v=new Array(1e3);function y(){for(var t=0;t<i;t+=2){(0,v[t])(v[t+1]),v[t]=void 0,v[t+1]=void 0}i=0}var m,g,w,b,_=void 0;function O(t,e){var n=this,r=new this.constructor(x);void 0===r[k]&&H(r);var o=n._state;if(o){var i=arguments[o-1];u(function(){return R(o,r,i,n._result)})}else I(n,r,t,e);return r}function j(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(x);return q(e,t),e}d?_=function(){return e.nextTick(y)}:l?(g=0,w=new l(y),b=document.createTextNode(""),w.observe(b,{characterData:!0}),_=function(){b.data=g=++g%2}):h?((m=new MessageChannel).port1.onmessage=y,_=function(){return m.port2.postMessage(0)}):_=void 0===c?function(){try{var t=n(19);return void 0!==(s=t.runOnLoop||t.runOnContext)?function(){s(y)}:p()}catch(t){return p()}}():p();var k=Math.random().toString(36).substring(16);function x(){}var T=void 0,E=1,A=2,S=new G;function P(t){try{return t.then}catch(t){return S.error=t,S}}function M(e,n,r){n.constructor===e.constructor&&r===O&&n.constructor.resolve===j?function(t,e){e._state===E?L(t,e._result):e._state===A?N(t,e._result):I(e,void 0,function(e){return q(t,e)},function(e){return N(t,e)})}(e,n):r===S?(N(e,S.error),S.error=null):void 0===r?L(e,n):t(r)?function(t,e,n){u(function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?q(t,n):L(t,n))},function(e){r||(r=!0,N(t,e))},t._label);!r&&o&&(r=!0,N(t,o))},t)}(e,n,r):L(e,n)}function q(t,e){var n,r;t===e?N(t,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=e),null===n||"object"!==r&&"function"!==r?L(t,e):M(t,e,P(e)))}function C(t){t._onerror&&t._onerror(t._result),D(t)}function L(t,e){t._state===T&&(t._result=e,t._state=E,0!==t._subscribers.length&&u(D,t))}function N(t,e){t._state===T&&(t._state=A,t._result=e,u(C,t))}function I(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+E]=n,o[i+A]=r,0===i&&t._state&&u(D,t)}function D(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?R(n,r,o,i):o(i);t._subscribers.length=0}}function G(){this.error=null}var J=new G;function R(e,n,r,o){var i=t(r),s=void 0,a=void 0,u=void 0,c=void 0;if(i){if((s=function(t,e){try{return t(e)}catch(t){return J.error=t,J}}(r,o))===J?(c=!0,a=s.error,s.error=null):u=!0,n===s)return void N(n,new TypeError("A promises callback cannot return that same promise."))}else s=o,u=!0;n._state!==T||(i&&u?q(n,s):c?N(n,a):e===E?L(n,s):e===A&&N(n,s))}var F=0;function H(t){t[k]=F++,t._state=void 0,t._result=void 0,t._subscribers=[]}var U=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(x),this.promise[k]||H(this.promise),o(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&L(this.promise,this._result))):N(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===T&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===j){var o=P(t);if(o===O&&t._state!==T)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===z){var i=new n(x);M(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===T&&(this._remaining--,t===A?N(r,n):this._result[e]=n),0===this._remaining&&L(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;I(t,void 0,function(t){return n._settledAt(E,e,t)},function(t){return n._settledAt(A,e,t)})},t}();var z=function(){function t(e){this[k]=F++,this._result=this._state=void 0,this._subscribers=[],x!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){q(t,e)},function(e){N(t,e)})}catch(e){N(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return z.prototype.then=O,z.all=function(t){return new U(this,t).promise},z.race=function(t){var e=this;return o(t)?new e(function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},z.resolve=j,z.reject=function(t){var e=new this(x);return N(e,t),e},z._setScheduler=function(t){a=t},z._setAsap=function(t){u=t},z._asap=u,z.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=z},z.Promise=z,z},t.exports=o()}).call(this,n(18),n(7))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],f=!1,l=-1;function d(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var t=a(d);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||f||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(17);var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.addon=e}return r(t,[{key:"getAssets",value:function(t){return this.addon.request({method:"GET",endpoint:"assets",query:t})}},{key:"getCurrencies",value:function(t){return this.addon.request({method:"GET",endpoint:"currencies",query:t})}},{key:"getInstitutions",value:function(t){return this.addon.request({method:"GET",endpoint:"institutions",query:t})}},{key:"getInstitution",value:function(t){return this.addon.request({method:"GET",endpoint:"institutions/"+t})}},{key:"pollInstitution",value:function(t,e){return this.addon.request({method:"GET",endpoint:"institutions/"+t+"/poll?v="+e})}},{key:"syncInstitution",value:function(t){return this.addon.request({method:"POST",endpoint:"institutions/"+t+"/sync"})}},{key:"addInstitution",value:function(t){return console.warn("DEPRECATED: `addon.api.addInstitution`. Use `addon.addInstitution instead.`"),this.addon.request({method:"POST",endpoint:"institutions",body:t})}},{key:"getLiabilities",value:function(t){return this.addon.request({method:"GET",endpoint:"liabilities",query:t})}},{key:"getPositions",value:function(t){return this.addon.request({method:"GET",endpoint:"positions",query:t})}},{key:"getTransactions",value:function(t){return this.addon.request({method:"GET",endpoint:"transactions",query:t})}},{key:"updateTransaction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.addon.request({method:"PUT",endpoint:"transactions/"+t,body:e})}},{key:"getUser",value:function(){return this.addon.request({method:"GET",endpoint:"users/me"})}}]),t}();t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={heightCalculationMethod:function(){var t=document.body,e=document.documentElement;return Math.max.apply(null,[t.scrollHeight,t.offsetHeight,e.offsetHeight])}}}]);
//# sourceMappingURL=addon.min.js.map